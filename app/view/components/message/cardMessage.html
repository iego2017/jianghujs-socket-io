<script type="text/x-template" id="_CardMessage">
  <div class="message cardMsg">
    <v-card class="mx-auto" max-width="344" outlined @click="showAccount">
      <v-list-item three-line>
        <v-list-item-content>
          <div class="text-overline mb-2 caption">USER CARD</div>
          <v-list-item-title class="body-1 mb-1">{{ content_.friendUsername }}</v-list-item-title>
          <v-list-item-subtitle class="caption">ID: {{ content_.friendId }}</v-list-item-subtitle>
        </v-list-item-content>
        <v-list-item-avatar tile size="80" color="grey lighten-4">
          <dx-img :src="content_.friendUserAvatar" userAvatar></dx-img>
        </v-list-item-avatar>
      </v-list-item>
      <v-divider />
      <v-card-actions>
        <v-btn
          outlined
          rounded
          text
          class="caption pa-1"
          style="height: 25px"
          @click="showAccount()"
        >查看详情</v-btn>
      </v-card-actions>
    </v-card>
  </div>
</script>

<script>
  Vue.component('CardMessage', {
    props: [ 'content', 'id' ],
    template: '#_CardMessage',
    computed: {
      content_() {
        return JSON.parse(this.content);
      }
    },
    methods: {
      showAccount() {
        this.$emit('showAccount', this.content_.friendId);
      }
    }
  });
</script>
<style>
  .message.cardMsg {
    padding: 0;
  }
</style>
